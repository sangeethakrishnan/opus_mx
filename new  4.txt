
PROCEDURE get_customerpolicy_credit_details(
order_number_in IN CUSTOMER_ORDER.ORDER_NUMBER%TYPE,
CUR_OUT IN OUT REFCURSOR);




PROCEDURE get_customerpolicy_credit_details(
    order_number_in IN CUSTOMER_ORDER.ORDER_NUMBER%TYPE,
    CUR_OUT IN OUT REFCURSOR)
    IS BEGIN 
    OPEN CUR_OUT FOR SELECT *,CUSTOMER_CREDIT_POLICY_CHECK.CREDIT_TRANSACTION_ID,
    CUSTOMER_CREDIT_POLICY_CHECK.CREDIT_POLICY_TRANSACTION_ID,
    CUSTOMER_CREDIT_POLICY_CHECK.CREDIT_CLASS 
    FROM CUSTOMER_ORDER INNER JOIN CUSTOMER_CREDIT_POLICY_CHECK
    ON CUSTOMER_ORDER.ORDER_NUMBER=CUSTOMER_CREDIT_POLICY_CHECK.ORDER_NUMBER
    WHERE CUSTOMER_CREDIT_POLICY_CHECK.STATUS='null';
    END get_customerpolicy_credit_details;